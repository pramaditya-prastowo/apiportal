{
  "openapi": "3.0.1",
  "info": {
    "title": "API Virtual Account - Inquiry",
    "description": "API Virtual Account - Inquiry",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080"
    }
  ],
  "paths": {
    "/try-api/payment-inquiry": {
      "post": {
        "operationId": "_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "channelCode",
                  "currency",
                  "customerNo",
                  "inquiryRequestId",
                  "language",
                  "partnerServiceId",
                  "trxDateInit",
                  "virtualAccountNo"
                ],
                "properties": {
                  "partnerServiceId": {
                    "type": "string"
                  },
                  "customerNo": {
                    "type": "string"
                  },
                  "virtualAccountNo": {
                    "type": "string"
                  },
                  "trxDateInit": {
                    "type": "string"
                  },
                  "inquiryRequestId": {
                    "type": "string"
                  },
                  "language": {
                    "type": "string"
                  },
                  "currency": {
                    "type": "string"
                  },
                  "channelCode": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post_$response"
                }
              }
            }
          },
          "401": {
            "description": "Access Denied",
            "content": {}
          }
        },
        "x-codegen-request-body-name": "additionalInfo"
      }
    }
  },
  "components": {
    "schemas": {
      "ApiVaPaymentSnap.resources.snap.inquiry:_post_$response": {
        "required": [
          "additionalInfo",
          "currency",
          "inquiryRequestId",
          "responseCode",
          "responseMessage",
          "virtualAccountData"
        ],
        "type": "object",
        "properties": {
          "additionalInfo": {
            "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.additionalInfo"
          },
          "currency": {
            "type": "string"
          },
          "responseMessage": {
            "type": "string"
          },
          "inquiryRequestId": {
            "type": "string"
          },
          "virtualAccountData": {
            "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.virtualAccountData"
          },
          "responseCode": {
            "type": "string"
          }
        }
      },
      "ApiVaPaymentSnap.resources.snap.inquiry:_post.reservedDocList": {
        "required": [
          "attributeName",
          "attributeValue"
        ],
        "type": "object",
        "properties": {
          "attributeValue": {
            "type": "string"
          },
          "attributeName": {
            "type": "string"
          }
        }
      },
      "ApiVaPaymentSnap.resources.snap.inquiry:_post.additionalInfo": {
        "required": [
          "BillInfoList",
          "billCompanyChargeAmount",
          "billCurrency",
          "billCustomerChargeAmount",
          "billKey1",
          "billKey2",
          "billKey3",
          "billPaidFlag",
          "cardAcceptorTermId",
          "companyAccountNumber",
          "companyCode",
          "customerAccountType",
          "customerChargeAmount",
          "merchantType",
          "paymentType",
          "remarkHint",
          "reservedDocList",
          "reservedField1",
          "reservedField2",
          "traceNumber",
          "track2data"
        ],
        "type": "object",
        "properties": {
          "companyCode": {
            "type": "string"
          },
          "cardAcceptorTermId": {
            "type": "string"
          },
          "billCompanyChargeAmount": {
            "type": "string"
          },
          "traceNumber": {
            "type": "string"
          },
          "companyAccountNumber": {
            "type": "string"
          },
          "customerAccountType": {
            "type": "string"
          },
          "reservedField2": {
            "type": "string"
          },
          "billPaidFlag": {
            "type": "string"
          },
          "paymentType": {
            "type": "string"
          },
          "track2data": {
            "type": "string"
          },
          "reservedField1": {
            "type": "string"
          },
          "BillInfoList": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.BillInfoList"
            }
          },
          "billCustomerChargeAmount": {
            "type": "string"
          },
          "customerChargeAmount": {
            "type": "string"
          },
          "billCurrency": {
            "type": "string"
          },
          "billKey2": {
            "type": "string"
          },
          "remarkHint": {
            "type": "string"
          },
          "billKey3": {
            "type": "string"
          },
          "reservedDocList": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.reservedDocList"
            }
          },
          "billKey1": {
            "type": "string"
          },
          "merchantType": {
            "type": "string"
          }
        }
      },
      "ApiVaPaymentSnap.resources.snap.inquiry:_post.virtualAccountData": {
        "required": [
          "billDetails",
          "currency",
          "inquiryRequestId"
        ],
        "type": "object",
        "properties": {
          "billDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.billDetails"
            }
          },
          "currency": {
            "type": "string"
          },
          "inquiryRequestId": {
            "type": "string"
          }
        }
      },
      "ApiVaPaymentSnap.resources.snap.inquiry:_post.billDetails": {
        "required": [
          "additionalInfo",
          "billAmount",
          "billCode",
          "billName"
        ],
        "type": "object",
        "properties": {
          "billName": {
            "type": "string"
          },
          "billAmount": {
            "type": "string"
          },
          "additionalInfo": {
            "$ref": "#/components/schemas/ApiVaPaymentSnap.resources.snap.inquiry:_post.additionalInfo"
          },
          "billCode": {
            "type": "string"
          }
        }
      },
      "ApiVaPaymentSnap.resources.snap.inquiry:_post.BillInfoList": {
        "required": [
          "label",
          "value"
        ],
        "type": "object",
        "properties": {
          "label": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      }
    }
  },
  "spesification": {
    "endpoint": "/v1.0/transfer-va/inquiry",
    "endpoint_url": "/ApiVaPaymentSnap/resources/snap/inquiry",
    "header": [
      {
        "key": "Authorization",
        "value": "",
        "format": "Alphanumeric",
        "mandatory": "M",
        "length": "",
        "description": "Bearer <token>"
      },
      {
        "key": "X-TIMESTAMP",
        "value": "",
        "format": "Datetime",
        "mandatory": "M",
        "length": "",
        "description": "The timestamp must be presented in ISO8601 format (yyyy-MM-ddTHH:mm:ss.TZ)"
      },
      {
        "key": "X-SIGNATURE",
        "value": "",
        "format": "Alphanumeric",
        "mandatory": "M",
        "length": "",
        "description": "Transaction signature. Please refer to Transaction Signature section"
      },
      {
        "key": "X-PARTNER-ID",
        "value": "",
        "format": "Alphanumeric",
        "mandatory": "M",
        "length": "",
        "description": "Partner ID given by BSI upon onboarding process"
      },
      {
        "key": "X-EXTERNAL-ID",
        "value": "",
        "format": "String",
        "mandatory": "M",
        "length": "128",
        "description": "Numeric String. Unique ID per request generated by partner"
      },
      {
        "key": "CHANNEL-ID",
        "value": "",
        "format": "Alpha",
        "mandatory": "M",
        "length": "",
        "description": "Numeric String. Unique ID provide by Bank BSI"
      },
      {
        "key": "Content-Type",
        "value": "",
        "format": "Alpha",
        "mandatory": "M",
        "length": "",
        "description": "application/json"
      }
    ],
    "request": [
      {
        "field": "partnerServiceId",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "8",
        "description": "Derivative of X-PARTNER-ID, similar to company code, 8 digit left padding space. partnerServic eId + customerNo or virtualAccountNo\r\n",
        "sample": "099"
      },
      {
        "field": "customerNo",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "20",
        "description": "Unique number (up to 20 digits). partnerServic eId + customerNo or virtualAccountNo",
        "sample": "12345678901234"
      },
      {
        "field": "virtualAccountNo",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "28",
        "description": "partnerServic eId (8 digit left padding space) + customerNo (up to 20 digits). partnerServiceId + customerNo or virtualAccountNo\r\n\r\n",
        "sample": "2110199457\r\n"
      },
      {
        "field": "trxDateInit",
        "data_type": "Date",
        "format": "",
        "mandatory": "O",
        "length": "25",
        "description": "PJP internal system datetime with timezone, which follows the ISO-8601standard\r\n",
        "sample": "20210609144500"
      },
      {
        "field": "inquiryRequestId",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "128",
        "description": "Unique identifier for this Inquiry. Generated by PJP.\r\n",
        "sample": "123456789"
      },
      {
        "field": "language",
        "data_type": "String",
        "format": "",
        "mandatory": "O",
        "length": "2",
        "description": "Language code based on ISO 639-1\r\n",
        "sample": "01"
      },
      {
        "field": "channelCode",
        "data_type": "Number",
        "format": "",
        "mandatory": "O",
        "length": "4",
        "description": "Channel code based on ISO 18245",
        "sample": "2"
      },
      {
        "field": "additionalInfo",
        "data_type": "Object",
        "format": "",
        "mandatory": "O",
        "length": "",
        "description": "Additional Information for custom use",
        "sample": ""
      }
    ],
    "response": [
      {
        "field": "responseCode",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "7",
        "description": "Response Code\r\n",
        "sample": "2001100"
      },
      {
        "field": "responseMessage",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "150",
        "description": "Response Description\r\n",
        "sample": "Successful"
      },
      {
        "field": "virtualAccountData",
        "data_type": "Object",
        "format": "",
        "mandatory": "M",
        "length": "",
        "description": "",
        "sample": ""
      },
      {
        "field": "partnerServiceId",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "8",
        "description": "Derivative of X- PARTNER-ID, similar to company code, 8 digit left padding space. partnerServic eId + customerNo or virtualAccountNo\r\n",
        "sample": "099"
      },
      {
        "field": "inquiryRequestId",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "128",
        "description": "From Inquiry Request\r\n",
        "sample": ""
      },
      {
        "field": "currency",
        "data_type": "String",
        "format": "",
        "mandatory": "M",
        "length": "3",
        "description": "From Inquiry Request\r\n",
        "sample": ""
      },
      {
        "field": "billDetails",
        "data_type": "Array of Objects",
        "format": "",
        "mandatory": "O",
        "length": "",
        "description": "",
        "sample": ""
      },
      {
        "field": "billCode",
        "data_type": "String",
        "format": "",
        "mandatory": "O",
        "length": "2",
        "description": "Bill code for Customer choose",
        "sample": "01"
      },
      {
        "field": "billName",
        "data_type": "String",
        "format": "",
        "mandatory": "O",
        "length": "20",
        "description": "Bill Name",
        "sample": "TOPUP"
      },
      {
        "field": "billAmount",
        "data_type": "Object",
        "format": "",
        "mandatory": "O",
        "length": "",
        "description": "",
        "sample": "10000"
      },
      {
        "field": "additionalInfo",
        "data_type": "Object",
        "format": "",
        "mandatory": "O",
        "length": "",
        "description": "Additional Information for custom use",
        "sample": ""
      }
    ],
    "sample_header": "\nX-\r\nSIGNATURE:3a2264babc4bea574fdb03d81520be00f1752633c208f52eb9dd367821ff38cc0d408a53bf88f e41496cb00c2dce95b4730eea1cb77809b6d1a3d9b6dcd0bfb5\r\nX-TIMESTAMP:2022-02-12T13:07:00+07:00 X-PARTNER-ID:099\r\nX-EXTERNAL-ID:41807553358950093184162180797837 CHANNEL-ID:12345\r\n",
    "sample_request": "\n{\r\n    \"partnerServiceId\": \"099\",\r\n    \"customerNo\": \"12345678901234\",\r\n    \"virtualAccountNo\": \"7095592389\",\r\n    \"trxDateInit\": \"20210609144500\",\r\n    \"inquiryRequestId\": \"00000048\",\r\n    \"language\": \"01\",\r\n    \"currency\": \"360\",\r\n    \"channelCode\": \"2\",\r\n    \"additionalInfo\": {\r\n        \"traceNumber\": \"70048\",\r\n        \"cardAcceptorTermId\": \"2\",\r\n        \"customerAccountType\": \"2\",\r\n        \"billKey1\": \"081224000978\",\r\n        \"billKey2\": \"10000\",\r\n        \"billKey3\": \"\",\r\n        \"reservedField1\": \"\",\r\n        \"reservedField2\": \"\",\r\n        \"reservedDocList\": [\r\n            {\r\n                \"attributeName\": \"\",\r\n                \"attributeValue\": \"\"\r\n            }\r\n        ],\r\n        \"track2data\": \"1\",\r\n        \"companyCode\": \"200194\"\r\n    }\r\n}",
    "sample_response": "\n{\r\n    \"responseCode\": \"2002400\",\r\n    \"responseMessage\": \"Successful\",\r\n    \"virtualAccountData\": {\r\n        \"partnerServiceId\": \"889\",\r\n        \"inquiryRequestId\": \"22345111\",\r\n        \"customerNo\": \"2110199457\",\r\n        \"virtualAccountName\": \"FANNY OKTISEFTIANA\",\r\n        \"virtualAccountNo\": \"88921101994572110199457\",\r\n        \"billDetails\": [\r\n            {\r\n                \"billCode\": \"01\",\r\n                \"billName\": \"SHOPEE PAY\",\r\n                \"additionalInfo\": {\r\n                    \"billCustomerChargeAmount\": \"0\",\r\n                    \"billCompanyChargeAmount\": \"0\",\r\n                    \"billPaidFlag\": \"0\",\r\n                    \"billCurrency\": \"360\",\r\n                    \"billKey1\": \"60808122686926\",\r\n                    \"billKey2\": \"50000\",\r\n                    \"billKey3\": \"\"\r\n                },\r\n                \"billAmount\": {\r\n                    \"value\": \"52000\",\r\n                    \"currency\": \"IDR\"\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}",
    "sample_error": "",
    "list_error": [
      {
        "http_status": "",
        "service_code": "",
        "case_code": "",
        "status": "",
        "response_description": "",
        "description": ""
      }
    ]
  }
}